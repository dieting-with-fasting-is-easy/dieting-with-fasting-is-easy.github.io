<!DOCTYPE html>

<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ダイエット計算機</title>
<style>
* {
margin: 0;
padding: 0;
box-sizing: border-box;
}

```
body {
font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Hiragino Sans', 'Hiragino Kaku Gothic ProN', Meiryo, sans-serif;
background: #ffffff;
min-height: 100vh;
padding: 20px 20px;
color: #2c3e50;
}

.container {
max-width: 900px;
margin: 0 auto;
background: white;
border-radius: 8px;
padding: 30px;
box-shadow: 0 1px 3px rgba(0,0,0,0.06);
}

h1 {
text-align: center;
color: #2c3e50;
margin-bottom: 8px;
font-size: 26px;
font-weight: 700;
letter-spacing: -0.5px;
}

.subtitle {
text-align: center;
color: #7f8c8d;
font-size: 13px;
margin-bottom: 20px;
line-height: 1.5;
}

.info-box {
background: #f8f9fa;
border-radius: 6px;
padding: 14px;
margin-bottom: 20px;
font-size: 12px;
line-height: 1.6;
color: #34495e;
}

.info-box strong {
color: #2c3e50;
font-weight: 600;
}

.tabs {
display: flex;
gap: 8px;
margin-bottom: 20px;
border-bottom: 1px solid #e0e0e0;
}

.tab {
padding: 10px 16px;
background: transparent;
border: none;
font-size: 13px;
font-weight: 500;
color: #7f8c8d;
cursor: pointer;
border-bottom: 2px solid transparent;
transition: all 0.2s;
}

.tab.active {
color: #3498db;
border-bottom-color: #3498db;
}

.tab:hover {
color: #3498db;
}

.tab-content {
display: none;
}

.tab-content.active {
display: block;
}

.input-group {
margin-bottom: 14px;
}

label {
display: block;
margin-bottom: 6px;
color: #2c3e50;
font-weight: 500;
font-size: 12px;
}

input[type="date"],
input[type="number"],
select {
width: 100%;
padding: 10px 12px;
border: 1px solid #dfe4ea;
border-radius: 4px;
font-size: 13px;
transition: border-color 0.2s;
font-family: inherit;
}

input[type="date"]:focus,
input[type="number"]:focus,
select:focus {
outline: none;
border-color: #3498db;
}

.button {
width: 100%;
padding: 12px;
background: #3498db;
color: white;
border: none;
border-radius: 4px;
font-size: 14px;
font-weight: 600;
cursor: pointer;
transition: background 0.2s;
margin-top: 8px;
}

.button:hover {
background: #2980b9;
}

.button:active {
transform: scale(0.98);
}

.calorie-guide {
margin-bottom: 20px;
padding: 14px;
background: #f8f9fa;
border-radius: 6px;
border-left: 3px solid #3498db;
}

.calorie-guide h3 {
color: #2c3e50;
margin-bottom: 12px;
font-size: 13px;
font-weight: 600;
}

.guide-controls {
display: grid;
grid-template-columns: 1fr 1fr;
gap: 12px;
margin-bottom: 12px;
}

.calorie-table {
overflow-x: auto;
margin-top: 12px;
}

table {
width: 100%;
border-collapse: collapse;
background: white;
border-radius: 4px;
overflow: hidden;
}

th, td {
padding: 8px;
text-align: center;
border-bottom: 1px solid #ecf0f1;
font-size: 12px;
}

th {
background: #3498db;
color: white;
font-weight: 600;
}

tr:hover {
background: #f8f9fa;
}

.calorie-input-section {
background: #f8f9fa;
padding: 16px;
border-radius: 6px;
margin-bottom: 20px;
}

.calorie-input-section h3 {
color: #2c3e50;
margin-bottom: 14px;
font-size: 13px;
font-weight: 600;
}

.balance-display {
margin-top: 14px;
padding: 12px;
background: #d5f4e6;
border-radius: 4px;
text-align: center;
font-size: 14px;
font-weight: 600;
color: #27ae60;
border: 2px solid #27ae60;
}

.balance-display.negative {
background: #fadbd8;
color: #e74c3c;
border-color: #e74c3c;
}

.result {
margin-top: 20px;
padding: 16px;
background: #3498db;
border-radius: 6px;
color: white;
display: none;
}

.result.show {
display: block;
}

.result h2 {
margin-bottom: 12px;
font-size: 16px;
font-weight: 600;
}

.result-item {
margin: 8px 0;
font-size: 13px;
padding: 10px;
background: rgba(255,255,255,0.15);
border-radius: 4px;
}

.result-item strong {
font-weight: 600;
}

.result-section {
margin-top: 12px;
padding-top: 12px;
border-top: 1px solid rgba(255,255,255,0.2);
}

.result-section h3 {
font-size: 14px;
margin-bottom: 8px;
font-weight: 600;
}

.fasting-result {
margin-top: 8px;
padding: 10px;
background: rgba(255,255,255,0.2);
border-radius: 4px;
font-weight: 500;
font-size: 12px;
line-height: 1.5;
}

.warning-box {
margin-top: 20px;
padding: 14px;
background: #fff3cd;
border-left: 3px solid #ffc107;
border-radius: 4px;
font-size: 11px;
color: #856404;
line-height: 1.6;
}

.warning-box strong {
display: block;
margin-bottom: 6px;
color: #856404;
font-weight: 600;
}

.footer {
margin-top: 40px;
padding-top: 20px;
border-top: 1px solid #ecf0f1;
text-align: center;
font-size: 12px;
color: #95a5a6;
}
</style>
```
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7393879634907249"
     crossorigin="anonymous"></script>
     <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7393879634907249"
     crossorigin="anonymous"></script>
</head>
<body>
<div class="container">
<h1>ダイエット計算機</h1>
<p class="subtitle">科学的根拠に基づいた体重管理ツール</p>

```
<div class="info-box">
<strong>体重減少の基本原則</strong><br>
栄養バランスも大切ですが、体重を減らすための最も重要な要素は<strong>摂取カロリーと消費カロリーの差</strong>です。消費カロリーが摂取カロリーを上回れば体重は減少し、その逆であれば増加します。脂肪1kgを減らすには約7,200kcalの消費が必要です。
</div>

<div class="tabs">
<button class="tab active" onclick="switchTab('prediction')">予想計算</button>
<button class="tab" onclick="switchTab('goal')">目標達成計算</button>
</div>

<!-- 予想計算タブ -->
<div id="prediction" class="tab-content active">
<div class="calorie-guide">
<h3>1日の推定消費カロリー目安（厚生労働省基準）</h3>
<div class="guide-controls">
<div class="input-group" style="margin-bottom: 0;">
<label for="guideGender">性別</label>
<select id="guideGender" onchange="updateCalorieTable()">
<option value="male">男性</option>
<option value="female">女性</option>
</select>
</div>
<div class="input-group" style="margin-bottom: 0;">
<label for="guideActivity">活動レベル</label>
<select id="guideActivity" onchange="updateCalorieTable()">
<option value="low">低い（座り仕事中心）</option>
<option value="moderate" selected>普通（立ち仕事・軽い運動）</option>
<option value="high">高い（力仕事・活発な運動）</option>
</select>
</div>
</div>
<div class="calorie-table">
<table id="calorieTable">
<thead>
<tr>
<th>年齢</th>
<th>推定消費カロリー</th>
</tr>
</thead>
<tbody id="calorieTableBody">
</tbody>
</table>
</div>
</div>

<div class="input-group">
<label for="startDate">スタート日</label>
<input type="date" id="startDate">
</div>

<div class="input-group">
<label for="targetDate">目標日</label>
<input type="date" id="targetDate">
</div>

<div class="calorie-input-section">
<h3>1日あたりのカロリー</h3>

<div class="input-group">
<label for="dailyConsumed">1日の消費カロリー（kcal）</label>
<input type="number" id="dailyConsumed" placeholder="例: 2000" oninput="updateBalance()">
</div>

<div class="input-group">
<label for="dailyIntake">1日の摂取カロリー（kcal）</label>
<input type="number" id="dailyIntake" placeholder="例: 1500" oninput="updateBalance()">
</div>

<div class="balance-display" id="balanceDisplay">
1日のカロリー収支: 0 kcal
</div>
</div>

<button class="button" onclick="calculate()">計算する</button>

<div class="result" id="result">
<h2>予想結果</h2>
<div class="result-item">
<strong>期間:</strong> <span id="daysCount"></span>
</div>
<div class="result-item">
<strong>累計カロリー収支:</strong> <span id="totalCalories"></span>
</div>
<div class="result-item">
<strong>予想体重減少:</strong> <span id="weightLoss"></span>
</div>

<div class="result-section">
<h3>週1回断食を取り入れた場合</h3>
<div class="fasting-result" id="fastingResult"></div>
</div>

<div class="result-section">
<h3>週2回断食を取り入れた場合</h3>
<div class="fasting-result" id="fastingResult2"></div>
</div>
</div>
</div>

<!-- 目標達成計算タブ -->
<div id="goal" class="tab-content">
<div class="input-group">
<label for="currentWeight">現在の体重（kg）</label>
<input type="number" id="currentWeight" placeholder="例: 70" step="0.1">
</div>

<div class="input-group">
<label for="goalWeight">目標体重（kg）</label>
<input type="number" id="goalWeight" placeholder="例: 65" step="0.1">
</div>

<div class="input-group">
<label for="goalStartDate">スタート日</label>
<input type="date" id="goalStartDate">
</div>

<div class="input-group">
<label for="goalTargetDate">目標日</label>
<input type="date" id="goalTargetDate">
</div>

<div class="calorie-input-section">
<h3>1日あたりのカロリー</h3>

<div class="input-group">
<label for="goalDailyConsumed">1日の消費カロリー（kcal）</label>
<input type="number" id="goalDailyConsumed" placeholder="例: 2000">
</div>

<div class="input-group">
<label for="goalDailyIntake">1日の摂取カロリー（kcal）</label>
<input type="number" id="goalDailyIntake" placeholder="例: 1500">
</div>
</div>

<button class="button" onclick="calculateGoal()">計算する</button>

<div class="result" id="goalResult">
<h2>目標達成計算結果</h2>
<div class="result-item">
<strong>減量目標:</strong> <span id="goalWeightDiff"></span>
</div>
<div class="result-item">
<strong>必要なカロリー削減:</strong> <span id="goalNeededCalories"></span>
</div>
<div class="result-item">
<strong>現在の計画での達成度:</strong> <span id="goalAchievement"></span>
</div>
<div class="result-item">
<strong>目標達成のための必要な1日の摂取カロリー:</strong> <span id="goalNeededIntake"></span>
</div>

<div class="result-section">
<h3>週1回断食を取り入れた場合</h3>
<div class="fasting-result" id="goalFastingResult1"></div>
</div>

<div class="result-section">
<h3>週2回断食を取り入れた場合</h3>
<div class="fasting-result" id="goalFastingResult2"></div>
</div>
</div>
</div>

<div class="warning-box">
<strong>健康的なダイエットのために</strong>
この計算ツールは体重管理の目安を提供するものです。極端なカロリー制限は身体に負担をかけ、摂食障害の原因となる可能性があります。急激な体重減少（週1kg以上）は避け、バランスの取れた食事と適度な運動を心がけてください。持病のある方や不安がある方は、必ず医師に相談してから実施してください。
</div>
```


</div>

```
<script>
// 厚生労働省の推定エネルギー必要量データ
const calorieData = {
male: {
low: [
['18-29歳', 2300],
['30-49歳', 2300],
['50-64歳', 2200],
['65-74歳', 2050],
['75歳以上', 1800]
],
moderate: [
['18-29歳', 2650],
['30-49歳', 2700],
['50-64歳', 2600],
['65-74歳', 2400],
['75歳以上', 2100]
],
high: [
['18-29歳', 3050],
['30-49歳', 3050],
['50-64歳', 2950],
['65-74歳', 2750],
['75歳以上', 2400]
]
},
female: {
low: [
['18-29歳', 1700],
['30-49歳', 1750],
['50-64歳', 1650],
['65-74歳', 1550],
['75歳以上', 1400]
],
moderate: [
['18-29歳', 2000],
['30-49歳', 2050],
['50-64歳', 1950],
['65-74歳', 1850],
['75歳以上', 1650]
],
high: [
['18-29歳', 2300],
['30-49歳', 2350],
['50-64歳', 2250],
['65-74歳', 2100],
['75歳以上', 1900]
]
}
};

// 今日の日付を初期値に設定
const today = new Date().toISOString().split('T')[0];
document.getElementById('startDate').value = today;
document.getElementById('goalStartDate').value = today;

// 30日後を目標日の初期値に設定
const thirtyDaysLater = new Date();
thirtyDaysLater.setDate(thirtyDaysLater.getDate() + 30);
document.getElementById('targetDate').value = thirtyDaysLater.toISOString().split('T')[0];
document.getElementById('goalTargetDate').value = thirtyDaysLater.toISOString().split('T')[0];

function switchTab(tabName) {
// タブボタンの切り替え
document.querySelectorAll('.tab').forEach(tab => {
tab.classList.remove('active');
});
event.target.classList.add('active');

// コンテンツの切り替え
document.querySelectorAll('.tab-content').forEach(content => {
content.classList.remove('active');
});
document.getElementById(tabName).classList.add('active');
}

function updateCalorieTable() {
const gender = document.getElementById('guideGender').value;
const activity = document.getElementById('guideActivity').value;
const data = calorieData[gender][activity];

const tbody = document.getElementById('calorieTableBody');
tbody.innerHTML = data.map(([age, calories]) => `
<tr>
<td>${age}</td>
<td><strong>${calories.toLocaleString()} kcal</strong></td>
</tr>
`).join('');
}

function updateBalance() {
const consumed = parseFloat(document.getElementById('dailyConsumed').value) || 0;
const intake = parseFloat(document.getElementById('dailyIntake').value) || 0;
const balance = consumed - intake;

const balanceEl = document.getElementById('balanceDisplay');
balanceEl.textContent = `1日のカロリー収支: ${balance > 0 ? '-' : '+'}${Math.abs(balance).toLocaleString()} kcal`;

if (balance > 0) {
balanceEl.classList.remove('negative');
} else {
balanceEl.classList.add('negative');
}
}

function calculate() {
const startDate = new Date(document.getElementById('startDate').value);
const targetDate = new Date(document.getElementById('targetDate').value);
const dailyConsumed = parseFloat(document.getElementById('dailyConsumed').value);
const dailyIntake = parseFloat(document.getElementById('dailyIntake').value);

if (!startDate || !targetDate) {
alert('スタート日と目標日を入力してください');
return;
}

if (targetDate <= startDate) {
alert('目標日はスタート日より後の日付を設定してください');
return;
}

if (isNaN(dailyConsumed) || isNaN(dailyIntake)) {
alert('消費カロリーと摂取カロリーを入力してください');
return;
}

const days = Math.ceil((targetDate - startDate) / (1000 * 60 * 60 * 24));
const dailyBalance = dailyConsumed - dailyIntake;
const totalCalories = dailyBalance * days;
const weightLoss = (Math.abs(totalCalories) / 7200).toFixed(2);

document.getElementById('daysCount').textContent = `${days}日間`;
document.getElementById('totalCalories').textContent = `${totalCalories > 0 ? '-' : '+'}${Math.abs(totalCalories).toLocaleString()} kcal`;
document.getElementById('weightLoss').textContent = totalCalories > 0
? `約 ${weightLoss} kg減少`
: `${weightLoss} kg増加`;

// 断食の計算
if (dailyBalance > 0) {
// 週1回断食
const fastingDays1 = Math.floor(days / 7);
const normalDays1 = days - fastingDays1;
const normalCalories1 = normalDays1 * dailyBalance;
const fastingCalories1 = fastingDays1 * dailyConsumed;
const fastingTotalCalories1 = normalCalories1 + fastingCalories1;
const fastingWeightLoss1 = (fastingTotalCalories1 / 7200).toFixed(2);
const extraLoss1 = (fastingTotalCalories1 - totalCalories).toFixed(0);

document.getElementById('fastingResult').innerHTML = `
<strong>期間中に${fastingDays1}日間の断食を実施した場合</strong><br>
通常日: ${normalDays1}日 × ${dailyBalance.toLocaleString()} kcal = ${normalCalories1.toLocaleString()} kcal<br>
断食日: ${fastingDays1}日 × ${dailyConsumed.toLocaleString()} kcal = ${fastingCalories1.toLocaleString()} kcal<br>
<br>
<strong>合計削減カロリー: ${fastingTotalCalories1.toLocaleString()} kcal</strong><br>
追加削減: ${extraLoss1 > 0 ? '+' : ''}${parseInt(extraLoss1).toLocaleString()} kcal<br>
<strong>予想体重減少: 約 ${fastingWeightLoss1} kg</strong>
`;

// 週2回断食
const fastingDays2 = Math.floor(days / 7) * 2;
const normalDays2 = days - fastingDays2;
const normalCalories2 = normalDays2 * dailyBalance;
const fastingCalories2 = fastingDays2 * dailyConsumed;
const fastingTotalCalories2 = normalCalories2 + fastingCalories2;
const fastingWeightLoss2 = (fastingTotalCalories2 / 7200).toFixed(2);
const extraLoss2 = (fastingTotalCalories2 - totalCalories).toFixed(0);

document.getElementById('fastingResult2').innerHTML = `
<strong>期間中に${fastingDays2}日間の断食を実施した場合</strong><br>
通常日: ${normalDays2}日 × ${dailyBalance.toLocaleString()} kcal = ${normalCalories2.toLocaleString()} kcal<br>
断食日: ${fastingDays2}日 × ${dailyConsumed.toLocaleString()} kcal = ${fastingCalories2.toLocaleString()} kcal<br>
<br>
<strong>合計削減カロリー: ${fastingTotalCalories2.toLocaleString()} kcal</strong><br>
追加削減: ${extraLoss2 > 0 ? '+' : ''}${parseInt(extraLoss2).toLocaleString()} kcal<br>
<strong>予想体重減少: 約 ${fastingWeightLoss2} kg</strong>
`;
} else {
document.getElementById('fastingResult').textContent = '断食の効果を計算するには、消費カロリーが摂取カロリーを上回る必要があります。';
document.getElementById('fastingResult2').textContent = '断食の効果を計算するには、消費カロリーが摂取カロリーを上回る必要があります。';
}

document.getElementById('result').classList.add('show');
}

function calculateGoal() {
const currentWeight = parseFloat(document.getElementById('currentWeight').value);
const goalWeight = parseFloat(document.getElementById('goalWeight').value);
const startDate = new Date(document.getElementById('goalStartDate').value);
const targetDate = new Date(document.getElementById('goalTargetDate').value);
const dailyConsumed = parseFloat(document.getElementById('goalDailyConsumed').value);
const dailyIntake = parseFloat(document.getElementById('goalDailyIntake').value);

if (isNaN(currentWeight) || isNaN(goalWeight)) {
alert('現在の体重と目標体重を入力してください');
return;
}

if (!startDate || !targetDate) {
alert('スタート日と目標日を入力してください');
return;
}

if (targetDate <= startDate) {
alert('目標日はスタート日より後の日付を設定してください');
return;
}

if (isNaN(dailyConsumed) || isNaN(dailyIntake)) {
alert('消費カロリーと摂取カロリーを入力してください');
return;
}

const weightDiff = currentWeight - goalWeight;
const neededCalories = weightDiff * 7200;
const days = Math.ceil((targetDate - startDate) / (1000 * 60 * 60 * 24));
const dailyBalance = dailyConsumed - dailyIntake;
const achievedCalories = dailyBalance * days;
const achievedWeight = (achievedCalories / 7200).toFixed(2);
const achievementPercent = ((achievedCalories / neededCalories) * 100).toFixed(1);

// 目標達成に必要な1日の摂取カロリー
const neededDailyBalance = neededCalories / days;
const neededIntake = dailyConsumed - neededDailyBalance;

document.getElementById('goalWeightDiff').textContent = `${weightDiff.toFixed(1)} kg`;
document.getElementById('goalNeededCalories').textContent = `${neededCalories.toLocaleString()} kcal`;
document.getElementById('goalAchievement').innerHTML = `
${achievementPercent}%<br>
<small>(現在の計画: ${achievedWeight} kg減少見込み)</small>
`;
document.getElementById('goalNeededIntake').innerHTML = `
<strong>${Math.round(neededIntake).toLocaleString()} kcal</strong><br>
<small>(1日あたり ${Math.round(neededDailyBalance).toLocaleString()} kcal の収支が必要)</small>
`;

// 断食を取り入れた場合
const fastingDays1 = Math.floor(days / 7);
const fastingDays2 = Math.floor(days / 7) * 2;

if (fastingDays1 > 0 && dailyBalance > 0) {
// 週1回断食
const normalDays1 = days - fastingDays1;
const fastingCalories1 = normalDays1 * dailyBalance + fastingDays1 * dailyConsumed;
const fastingWeight1 = (fastingCalories1 / 7200).toFixed(2);
const fastingAchievement1 = ((fastingCalories1 / neededCalories) * 100).toFixed(1);

document.getElementById('goalFastingResult1').innerHTML = `
<strong>期間中に${fastingDays1}日間の断食を実施した場合</strong><br>
<br>
削減カロリー: ${fastingCalories1.toLocaleString()} kcal<br>
予想体重減少: 約 ${fastingWeight1} kg<br>
<strong>目標達成度: ${fastingAchievement1}%</strong><br>
${fastingAchievement1 >= 100 ? '✓ 目標達成可能です' : '目標には届きません。摂取カロリーをさらに減らす必要があります。'}
`;

// 週2回断食
const normalDays2 = days - fastingDays2;
const fastingCalories2 = normalDays2 * dailyBalance + fastingDays2 * dailyConsumed;
const fastingWeight2 = (fastingCalories2 / 7200).toFixed(2);
const fastingAchievement2 = ((fastingCalories2 / neededCalories) * 100).toFixed(1);

document.getElementById('goalFastingResult2').innerHTML = `
<strong>期間中に${fastingDays2}日間の断食を実施した場合</strong><br>
<br>
削減カロリー: ${fastingCalories2.toLocaleString()} kcal<br>
予想体重減少: 約 ${fastingWeight2} kg<br>
<strong>目標達成度: ${fastingAchievement2}%</strong><br>
${fastingAchievement2 >= 100 ? '✓ 目標達成可能です' : '目標には届きません。摂取カロリーをさらに減らす必要があります。'}
`;
} else {
document.getElementById('goalFastingResult1').textContent = '断食の効果を計算するには、期間が7日以上必要で、消費カロリーが摂取カロリーを上回る必要があります。';
document.getElementById('goalFastingResult2').textContent = '断食の効果を計算するには、期間が7日以上必要で、消費カロリーが摂取カロリーを上回る必要があります。';
}

document.getElementById('goalResult').classList.add('show');
}

// 初期表示
updateCalorieTable();
updateBalance();
</script>
```

</body>
</html>
